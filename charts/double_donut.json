{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/prakritd2/Assign2/refs/heads/main/data/table3.csv"
  },
  "config": {
    "background": "#F5F5F5",
    "view": {
      "stroke": null
    },
    "style": {
      "guide-label": {
        "fill": "black"
      },
      "guide-title": {
        "fill": "black"
      }
    },
    "arc": {
      "fill": "#F5F5F5"
    },
    "tooltip": {
      "background": "#F5F5F5",
      "color": "black"
    }
  },
  "transform": [
    {
      "fold": [
        "ACT", "NSW", "NT", "Qld", "SA", "Tas", "Vic", "WA",
        "BurntACT", "BurntNSW", "BurntNT", "BurntQld", "BurntSA", "BurntTas", "BurntVic", "BurntWA"
      ],
      "as": ["State", "Value"]
    },
    {
      "calculate": "substring(datum.State, 0, 5) == 'Burnt' ? 'Burnt' : 'Total'",
      "as": "AreaType"
    },
    {
      "calculate": "replace(datum.State, 'Burnt', '')",
      "as": "State"
    },
    {
      "calculate": "upper(datum.State)",
      "as": "State"
    }
  ],
  "vconcat": [
    {
      "hconcat": [
        {
          "width": 325,
          "height": 325,
          "layer": [
            {
              "selection": {
                "forest_type": {
                  "type": "single",
                  "fields": ["Forest tenure"],
                  "bind": {
                    "input": "select",
                    "options": [
                      "Total native forest", 
                      "Leasehold forest", 
                      "Multiple-use public forest", 
                      "Nature conservation reserve", 
                      "Other Crown land", 
                      "Private forest", 
                      "Unresolved tenure"
                    ],
                    "labels": [
                      "Total Forest", 
                      "Leasehold Forest", 
                      "Multiple-use Public Forest", 
                      "Nature Conservation Reserve", 
                      "Other Crown Land", 
                      "Private Forest", 
                      "Unresolved Tenure"
                    ],
                    "name": "Forest Type"
                  },
                  "init": {"Forest tenure": "Total native forest"}  
                }
              },
              "transform": [
                {"filter": {"selection": "forest_type"}},
                {"filter": "datum.AreaType == 'Total'"}
              ],
              "mark": {
                "type": "arc",
                "innerRadius": 125
              },
              "encoding": {
                "theta": {"field": "Value", "type": "quantitative"},
                "color": {
                  "field": "State",
                  "type": "nominal",
                  "legend": {
                    "offset": -7
                  }
                },
                "tooltip": [
                  {"field": "State", "title": "State", "type": "nominal"},
                  {"field": "Value", "title": "Total Area (Hectares)", "type": "quantitative"}
                ]
              }
            },
            {
              "mark": {
                "type": "text",
                "align": "center",
                "fontSize": 28
              },
              "encoding": {
                "text": {"value": "Total Forest Area"},
                "x": {"value": 160},
                "y": {"value": 160}
              }
            }
          ]
        },
        {
          "width": 325,
          "height": 325,
          "layer": [
            {
              "transform": [
                {"filter": {"selection": "forest_type"}},
                {"filter": "datum.AreaType == 'Burnt'"}
              ],
              "mark": {
                "type": "arc",
                "innerRadius": 125
              },
              "encoding": {
                "theta": {"field": "Value", "type": "quantitative"},
                "color": {
                  "field": "State",
                  "type": "nominal",
                  "legend": {
                    "offset": -7
                  }
                },
                "tooltip": [
                  {"field": "State", "title": "State", "type": "nominal"},
                  {"field": "Value", "title": "Burnt Area (Hectares)", "type": "quantitative"}
                ]
              }
            },
            {
              "mark": {
                "type": "text",
                "align": "center",
                "fontSize": 28
              },
              "encoding": {
                "text": {"value": "Burnt Forest Area"},
                "x": {"value": 160},
                "y": {"value": 160}
              }
            }
          ]
        }
      ]
    }
  ]
}
